C51 COMPILER V9.56.0.0   MAIN                                                              04/13/2018 18:15:53 PAGE 1   


C51 COMPILER V9.56.0.0, COMPILATION OF MODULE MAIN
OBJECT MODULE PLACED IN \\192.168.2.201\Users\zhongzuan\main.obj
COMPILER INVOKED BY: D:\Program Files (x86)\Keil_v5\C51\BIN\C51.EXE main.c OPTIMIZE(8,SPEED) BROWSE INCDIR(..\Lib;..\Lib
                    -\inc;..\Lib\src;..\sourses) DEBUG OBJECTEXTEND PRINT(.\Listings\main.lst) TABS(2) OBJECT(\\192.168.2.201\Users\zhongzuan
                    -\main.obj)

line level    source

   1          #include "common.h"
   2          #include "oled.h"
   3          
   4          #include "Display.h"
   5          #include "Timer.h"
   6          #include "Uart.h"
   7          #include "MAX30100.h"
   8          //#include "Power.h"
   9          
  10          
  11          
  12          enum FucState
  13          {
  14            TimeMode=1,
  15            HeartRateMode,
  16            StepMode
  17          };
  18          
  19          void main()
  20          {
  21   1        unsigned char xdata Mode;
  22   1        unsigned char ID=0 ;
  23   1        
  24   1        P_SW2=0xb0;
  25   1        I2CCFG=0xe0;
  26   1        I2CMSST=0x00;
  27   1      
  28   1        // MAX30100_startTemperatureSampling();
  29   1        
  30   1        //  powerInit();
  31   1      
  32   1        Timer0Init();
  33   1        Mode=TimeMode;
  34   1      
  35   1        MAX30100_writeRegister(0x06,0x0b);
  36   1        MAX30100_writeRegister(0x01,0xf0);
  37   1        MAX30100_writeRegister(0x09,0x33);
  38   1        
  39   1        Uart2Init();
  40   1        Timer0Init();
  41   1      
  42   1        OLED_Init();
  43   1      
  44   1        displayHoursH(0);
  45   1        displayHoursL(0);
  46   1        displayColon(0xff);
  47   1        displayMinuteH(0);
  48   1        displayMinuteL(0);
  49   1        displayIcon_Battery(4,0xff);
  50   1        displayIcon_Bluetooth(0xff);
  51   1      
  52   1        Uart2SendStr("Started!\n");
  53   1        
C51 COMPILER V9.56.0.0   MAIN                                                              04/13/2018 18:15:53 PAGE 2   

  54   1      
  55   1      
  56   1      
  57   1        while(1)
  58   1        {
  59   2      
  60   2      
  61   2          while(Mode==TimeMode)
  62   2          {
  63   3      
  64   3              
  65   3            if(isSecondChange)
  66   3            {
  67   4              displayColon(0x00);
  68   4            
  69   4              isSecondChange=0;
  70   4            }
  71   3      
  72   3            if(TickCount==25) displayColon(0xff);
  73   3      
  74   3            if(isMinuteChange)
  75   3            {
  76   4              displayMinuteL(Minute%10);
  77   4              if((Minute/10)!=preMinuteH)
  78   4              { 
  79   5                preMinuteH=Minute/10;
  80   5                displayMinuteH(preMinuteH);
  81   5                
  82   5              }
  83   4              isMinuteChange=0;
  84   4      
  85   4            }
  86   3            if(isHourChange)
  87   3            {
  88   4              displayHoursL(Hour%10);
  89   4              if((Hour/10)!=preHourH) 
  90   4              {
  91   5                preHourH=Hour/10;
  92   5                displayHoursH(preHourH);
  93   5              }
  94   4              isHourChange=0;
  95   4            }
  96   3      
  97   3      
  98   3          
  99   3        //  getBatteryState();
 100   3        //  displayIcon_Battery(4,0xff);
 101   3          
 102   3        
 103   3          }
 104   2      
 105   2          while(Mode==HeartRateMode)
 106   2          {
 107   3      
 108   3          }
 109   2          while(Mode==StepMode)
 110   2          {
 111   3      
 112   3      
 113   3          }
 114   2      
 115   2      
C51 COMPILER V9.56.0.0   MAIN                                                              04/13/2018 18:15:53 PAGE 3   

 116   2        }
 117   1      
 118   1        
 119   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    289    ----
   CONSTANT SIZE    =     10    ----
   XDATA SIZE       =   ----       1
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----       1
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
