C51 COMPILER V9.56.0.0   MAIN                                                              04/06/2018 13:04:20 PAGE 1   


C51 COMPILER V9.56.0.0, COMPILATION OF MODULE MAIN
OBJECT MODULE PLACED IN .\Objects\main.obj
COMPILER INVOKED BY: D:\Program Files (x86)\Keil_v5\C51\BIN\C51.EXE main.c OPTIMIZE(8,SPEED) BROWSE INCDIR(..\Lib;..\Lib
                    -\inc;..\Lib\src;..\sourses) DEBUG OBJECTEXTEND PRINT(.\Listings\main.lst) TABS(2) OBJECT(.\Objects\main.obj)

line level    source

   1          #include "common.h"
   2          #include "oled.h"
   3          #include "MAX30100.h"
   4          #include "Display.h"
   5          #include "Timer.h"
   6          //#include "Power.h"
   7          
   8          unsigned char xdata Mode;
   9          
  10          enum FucState
  11          {
  12            TimeMode=1,
  13            HeartRateMode,
  14            StepMode
  15          };
  16          
  17          void main()
  18          {
  19   1      
  20   1      
  21   1        P_SW2=0xb0;
  22   1        I2CCFG=0xe0;
  23   1        I2CMSST=0x00;
  24   1      
  25   1      
  26   1        //char Temperature=0;
  27   1        //char ID;
  28   1      
  29   1        //ID=MAX30100_getPartID();
  30   1        //MAX30100_startTemperatureSampling();
  31   1        OLED_Init();
  32   1      //  powerInit();
  33   1         displayHoursH(0);
  34   1         displayHoursL(0);
  35   1         displayColon(0xff);
  36   1         displayMinuteH(0);
  37   1         displayMinuteL(0);
  38   1        displayIcon_Battery(4,0xff);
  39   1        displayIcon_Bluetooth(0xff);
  40   1        Timer0Init();
  41   1        Mode=TimeMode;
  42   1        while(1)
  43   1        {
  44   2          while(Mode==TimeMode)
  45   2          {
  46   3              
  47   3          if(isSecondChange)
  48   3          {
  49   4            displayColon(0x00);
  50   4          
  51   4            isSecondChange=0;
  52   4          }
  53   3      
  54   3          if(TickCount==25) displayColon(0xff);
C51 COMPILER V9.56.0.0   MAIN                                                              04/06/2018 13:04:20 PAGE 2   

  55   3      
  56   3          if(isMinuteChange)
  57   3          {
  58   4            displayMinuteL(Minute%10);
  59   4            if((Minute/10)!=preMinuteH)
  60   4            { 
  61   5              preMinuteH=Minute/10;
  62   5              displayMinuteH(preMinuteH);
  63   5              
  64   5            }
  65   4            isMinuteChange=0;
  66   4      
  67   4          }
  68   3          if(isHourChange)
  69   3          {
  70   4            displayHoursL(Hour%10);
  71   4            if((Hour/10)!=preHourH) 
  72   4            {
  73   5              preHourH=Hour/10;
  74   5              displayHoursH(preHourH);
  75   5            }
  76   4            isHourChange=0;
  77   4          }
  78   3      
  79   3      
  80   3          
  81   3        //  getBatteryState();
  82   3        //  displayIcon_Battery(4,0xff);
  83   3          
  84   3        
  85   3          }
  86   2      
  87   2          while(Mode==HeartRateMode)
  88   2          {
  89   3      
  90   3          }
  91   2          while(Mode==StepMode)
  92   2          {
  93   3      
  94   3      
  95   3          }
  96   2      
  97   2      
  98   2        }
  99   1      
 100   1        
 101   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    250    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =      1    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
